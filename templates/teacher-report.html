{% extends 'base.html' %}

{% block title %}
  Teacher Report | CS396 Project
{% endblock title %}

{% block content %}

    <section class="asm-two-column">
        <section class="main-column">
            <section class="container">
                <section class="container-header">
                    <h3>Class Reports</h3>
                </section>
                <section class="container-body class-reports">
                    {% for course_name, assignments in course_dict.items %}
                    <section class="container">
                        <section class="container-header">
                            <h3>{{ course_name }}</h3>
                        </section>
                        <section class="container-body course-report">
                            {% if assignments %}
                            <sections class="assignments">
                                {% for assignment_name, students in assignments.items %}
                                    <section class="assignment">
                                        <h4>{{ assignment_name }}</h4>
                                        <section class="students">
                                            {% for student_name, submissions in students.items %}
                                                <section class="student">
                                                    <h5>{{student_name}}</h5>
                                                    {% if submissions %}
                                                    <section class="submissions">
                                                        {% for submission, answers in submissions.items %}
                                                        <section class="submission">
                                                            <h4>Submission - {{answers.submission.earned}} / {{answers.submission.possible}}</h4>
                                                            <em>{{answers.submission.created_at}}</em>
                                                            <section class="answers">
                                                                {% for attempt in answers.answers %}
                                                                <section class="answer">
                                                                    <p>{{attempt.question}}</p>
                                                                    <strong>{{attempt.points}} / {{attempt.possible}}</strong>
                                                                </section>
                                                                {% endfor %}
                                                            </section>
                                                        </section>
                                                        {% endfor %}
                                                    </section>
                                                    {% else %}
                                                        <p>No submissions for this assignment</p>
                                                    {% endif %} 
                                                </section>
                                            {% endfor %}
                                        </section>
                                    </section>
                                {% endfor %}
                            </sections>
                            {% else %}
                                <p class="empty">No students have submitted work for this course</p>
                            {% endif %}
                        </section>
                    </section>
                    {% endfor %}
                </section>
            </section>
        </section>
    </section>

{% endblock content %}